"use strict";var app=function(){var a,t,e=function(a){for(var t=a.size[0],e=a.size[1],r=a.data.length,i=new a.data.constructor(r),n=0;n<e;n++)for(var d=0;d<t;d++){for(var o=n*t+d,l=0,s=-1;s<=1;s++)for(var h=-1;h<=1;h++)if(h||s){var u=d+h,v=n+s;u<0?u+=t:u>=t&&(u-=t),v<0?v+=e:v>=e&&(v-=e),a.data[v*t+u]&&l++}-1!==(a.data[o]?a.rule.survival:a.rule.birth).indexOf(l)&&(i[o]=1)}a.time++,a.data=i},r=function(a,t){var e=a.world,r=a.cache,i=e.size[0],n=e.size[1];t||(t=document.createElement("canvas")),t.width===i&&t.height===n||(t.width=i,t.height=n);for(var d=t.getContext("2d"),o=d.createImageData(t.width,t.height),l=0;l<n;l++)for(var s=0;s<i;s++){var h=l*i+s;if(e.data[h])o.data[4*h]=0,o.data[4*h+1]=255,o.data[4*h+2]=255,o.data[4*h+3]=255;else for(var u=0;u<r.length;u++)if(r[u]&&"1"===r[u][h]){var v=(r.length-u)/r.length;o.data[4*h]=0,o.data[4*h+1]=0,o.data[4*h+2]=127*v,o.data[4*h+3]=255;break}}return d.putImageData(o,0,0),t},i={cache:new Array(8),world:{time:0,rule:(a="B3/S23",{birth:a.slice(1,a.indexOf("/")).split("").map(Number),survival:a.slice(a.indexOf("S")+1).split("").map(Number)}),size:[256,256],data:new Uint8ClampedArray(65536)}};(t=i.world).time=0,t.data=t.data.fill().map(function(a,e){var r=e%t.size[0],i=(e-r)/t.size[0],n=t.size[0]/2-r,d=t.size[1]/2-i,o=Math.sqrt(n*n+d*d),l=t.size[0]/2;return Math.random()>o/l});var n=r(i);document.body.appendChild(n),requestAnimationFrame(function a(){var t=i.cache,d=i.world;if(t.length){for(var o=t.length-1;o--;)t[o+1]=t[o];t[0]=d.data.join("")}e(d);r(i,n);requestAnimationFrame(a)});return{}}();