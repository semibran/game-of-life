"use strict";var app=function(){var a,t,e=function(a){for(var t=a.size[0],e=a.size[1],r=a.data.length,i=new a.data.constructor(r),n=0;n<e;n++)for(var d=0;d<t;d++){for(var o=n*t+d,h=0,l=-1;l<=1;l++)for(var s=-1;s<=1;s++)if(s||l){var v=d+s,u=n+l;v<0?v+=t:v>=t&&(v-=t),u<0?u+=e:u>=e&&(u-=e),a.data[u*t+v]&&h++}-1!==(a.data[o]?a.rule.survival:a.rule.birth).indexOf(h)&&(i[o]=1)}a.time++,a.data=i},r=function(a,t){var e=a.world,r=a.cache,i=e.size[0],n=e.size[1];t||(t=document.createElement("canvas")),t.width===i&&t.height===n||(t.width=i,t.height=n);for(var d=t.getContext("2d"),o=d.createImageData(t.width,t.height),h=0;h<r.length;h++){var l=r[h];if(!l)break;for(var s=0;s<l.length;s++){var v=l[s],u=(r.length-h)/r.length;o.data[4*v]=0,o.data[4*v+1]=0,o.data[4*v+2]=255*u,o.data[4*v+3]=255}}for(var f=0;f<n;f++)for(var c=0;c<i;c++){v=f*i+c;e.data[v]&&(o.data[4*v]=0,o.data[4*v+1]=255,o.data[4*v+2]=255,o.data[4*v+3]=255)}return d.putImageData(o,0,0),t},i={cache:new Array(16),world:{time:0,rule:(a="B3/S23",{birth:a.slice(1,a.indexOf("/")).split("").map(Number),survival:a.slice(a.indexOf("S")+1).split("").map(Number)}),size:[768,768],data:new Uint8ClampedArray(589824)}};(t=i.world).time=0,t.data=t.data.fill().map(function(a,e){var r=e%t.size[0],i=(e-r)/t.size[0],n=t.size[0]/2-r,d=t.size[1]/2-i,o=Math.sqrt(n*n+d*d),h=t.size[0]/3;return Math.random()>o/h});var n=r(i);document.body.appendChild(n),requestAnimationFrame(function a(){var t=i.cache,d=i.world;if(t.length){for(var o=t.length-1;o--;)t[o+1]=t[o];for(var h=t[0]=[],l=0;l<d.data.length;l++)d.data[l]&&h.push(l)}e(d);r(i,n);requestAnimationFrame(a)});return{}}();